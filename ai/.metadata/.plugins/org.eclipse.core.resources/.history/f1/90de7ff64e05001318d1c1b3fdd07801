package mancala;

public class MiniMaxAgent implements Agent {
	int depth;
	int me;

	public MiniMaxAgent(int depth, int me) {
		this.me = me;
		this.depth = depth;
	}

	public Move getMove(Mancala board) {

		return max(board, depth);
	}

	public Move max(Mancala board, int depth) {
		//TODO: check if there are no available moves
	if(depth == 0){
		Move foo = new Move(0);
		foo.value = board.evaluate(me);
		return foo;
	}
		Move[] moves = board.getMoves();
		for (Move move : moves) {
			Mancala b = new Mancala(board);
			if (b.makeMove(move)) {
				Move continuation = max(b, depth);
				move.value = continuation.value;
			} else {
				int value = b.evaluate(me);
				if (value == Integer.MAX_VALUE || value == Integer.MIN_VALUE)
					move.value = value;
				else {
					Move next = min(b, depth - 1);
					move.value = next.value;
				}
			}
		}
	}

	public Move min(Mancala board, int depth) {

	}
}
